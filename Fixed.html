<!-- Assuming you have a list of items -->
<div class="item">
    <h4>Item Name</h4>
    <p>Price: $10</p>
    <button class="add-to-cart" data-item-id="1">Add to Cart</button>
</div>



        <div class="col">
            <div class="input-group">
                <button class="btn btn-outline-secondary btn-minus" type="button">-</button>
                <input type="number" value="1" class="form-control quantity" name="quantity" />
                <button class="btn btn-outline-secondary btn-plus" type="button">+</button>
            </div>
        </div>



        <!-- Add color switch input -->
        <div class="swatches">
            <div class="swatch clearfix" data-option-index="0">
                <br>
                <h6>Size:</h6>
                <div data-value="M" class="swatch-element plain m available">
                    <input id="swatch-0-m" type="radio" name="size" value="M" checked />
                    <label for="swatch-0-m">
                        M
                        <img class="crossed-out" src="//cdn.shopify.com/s/files/1/1047/6452/t/1/assets/soldout.png?10994296540668815886" />
                    </label>
                </div>
                <!-- Rest of the size options... -->
            </div>
            <div class="swatch clearfix" data-option-index="1">
                <br>
                <h6>Color: </h6>
                <div data-value="Blue" class="swatch-element color blue available">
                    <div class="tooltip">
                        Blue
                    </div>
                    <input quickbeam="color" id="swatch-1-blue" type="radio" name="color" value="Blue" checked />
                    <label for="swatch-1-blue" style="border-color: blue;">
                        <img class="crossed-out" src="//cdn.shopify.com/s/files/1/1047/6452/t/1/assets/soldout.png?10994296540668815886" />
                        <span style="background-color: blue;"></span>
                    </label>
                </div>
                <!-- Rest of the color options... -->
            </div>
        </div>

        <!-- Rest of the code... -->

        <div class="col">
            <button class="btn btn-primary" id="pay" type="submit" name="addToCart">ADD TO CART</button>
        </div>
        <div class="col">
            <div class="input-group">
                <button class="btn btn-outline-secondary btn-minus" type="button">-</button>
                <input type="number" value="1" class="form-control quantity" name="quantity" />
                <button class="btn btn-outline-secondary btn-plus" type="button">+</button>
            </div>
        </div>


<script>
$(document).ready(function() {
  $('.add-to-cart').click(function() {
    var itemId = $(this).data('item-id');

    $.ajax({
      url: 'add_to_cart.php',
      method: 'POST',
      data: { itemId: itemId },
      success: function(response) {
        alert(response); // Display success message or handle response
      },
      error: function(xhr) {
        alert('Error: ' + xhr.responseText); // Display error message or handle error
      }
    });
  });
});


</script>


<?php
$servername = "localhost";
$username = "your_username";
$password = "your_password";
$dbname = "your_database";

// Create connection
$conn = new mysqli($servername, $username, $password, $dbname);

// Check connection
if ($conn->connect_error) {
    die("Connection failed: " . $conn->connect_error);
}

if (isset($_POST['itemId'])) {
    $itemId = $_POST['itemId'];

    // Fetch item details from your items table using the itemId
    $sql = "SELECT * FROM items WHERE id = $itemId";
    $result = $conn->query($sql);

    if ($result->num_rows > 0) {
        $item = $result->fetch_assoc();

        // Insert item into the cart table
        $sql = "INSERT INTO cart (id, name, price, image, color, size, quantity)
                VALUES ('{$item['id']}', '{$item['name']}', '{$item['price']}', '{$item['image']}', '{$item['color']}', '{$item['size']}', 1)";

        if ($conn->query($sql) === TRUE) {
            echo "Item added to cart successfully";
        } else {
            echo "Error: " . $sql . "<br>" . $conn->error;
        }
    } else {
        echo "Item not found";
    }
}

$conn->close();
?>

