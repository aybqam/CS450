    <script>
        let cart = [];
        let total = 0;
        const cartItems = document.querySelector(".cart-items");
        const totalPrice = document.querySelector(".total-price");
    

    
        function addToCart(name, price) {
            const existingItem = cart.find(item => item.name === name);
            if (existingItem) {
                existingItem.quantity++;
            } else {
                cart.push({
                    name, price, quantity: 1
                });
            }
            total += price;
        }
    
        const addToCartButtons = document.querySelectorAll(".btn-plus");
        addToCartButtons.forEach(button => {
            const productRow = button.closest("tr");
            const productName = productRow.querySelector("td:nth-child(2)").textContent;
            const productPrice = parseFloat(productRow.querySelector("td:nth-child(5)").textContent.slice(1));
            addToCart(productName, productPrice);
        });
    
        document.addEventListener("click", event => {
            if (event.target.classList.contains("btn-plus")) {
                const productRow = event.target.closest("tr");
                const productName = productRow.querySelector("td:nth-child(2)").textContent;
                const productPrice = parseFloat(productRow.querySelector("td:nth-child(5)").textContent.slice(1));
                addToCart(productName, productPrice);
            } else if (event.target.classList.contains("btn-minus")) {
                const productRow = event.target.closest("tr");
                const productName = productRow.querySelector("td:nth-child(2)").textContent;
                const existingItem = cart.find(item => item.name === productName);
                if (existingItem && existingItem.quantity > 1) {
                    existingItem.quantity--;
                    total -= existingItem.price;
                }
            } else if (event.target.classList.contains("delete")) {
                const button = event.target;
                const itemId = button.getAttribute("data-id");
    
                swal({
                    title: "Are you sure?",
                    text: "Do you want to delete this item?",
                    icon: "warning",
                    type: "warning",
                    confirmButtonText: "Yes",
                    showCancelButton: true
                }).then(result => {
                    if (result.value) {
                        swal("Item deleted!", "The item has been removed from your cart.", "success").then(() => {
                            const productRow = button.closest("tr");
                            productRow.remove();
    
                            // Send AJAX request to delete.php
                            const xhr = new XMLHttpRequest();
                            xhr.open("POST", "./PHP/delete.php", true);
                            xhr.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
                            xhr.onreadystatechange = function() {
                                if (xhr.readyState === XMLHttpRequest.DONE) {
                                    if (xhr.status === 200) {
                                        const response = JSON.parse(xhr.responseText);
                                        if (response.status === "success") {
                                            // Item deleted successfully
                                        } else {
                                            // Handle error
                                        }
                                    } else {
                                        // Handle error
                                    }
                                }
                            };
                            xhr.send("id=" + itemId);
                        });
                    }
                });
            }
        });
    </script>

