Edit the code if click button heart and become heart fill must adding details of card inside the table mysql if click again of button heat fill must remove details of card inside the table mysql.


<?php

// Retrieve the details of the card and the action to be performed from the AJAX request
$productName = $_POST['productName'];
$productPrice = $_POST['productPrice'];
$isFavorite = $_POST['isFavorite'];

// Connect to the MySQL database
$servername = "localhost";
$username = "username";
$password = "password";
$dbname = "myDB";

$conn = new mysqli($servername, $username, $password, $dbname);

// Check connection
if ($conn->connect_error) {
    die("Connection failed: " . $conn->connect_error);
}

// Insert or delete the details of the card into/from the favorites table based on the action
if ($isFavorite == 1) {
    $sql = "INSERT INTO favorites (product_name, product_price) VALUES ('$productName', '$productPrice')";
} else {
    $sql = "DELETE FROM favorites WHERE product_name = '$productName' AND product_price = '$productPrice'";
}

$result = $conn->query($sql);

// Close the database connection
$conn->close();

?>


<div class="carousel-item active">
    <div class="cards-wrapper">
        <div class="card">
            <img class="card-img-top" src="./image/tshirt.png" alt="Product Image">
            <button class="btn btn-love" onclick="toggleLove('love1', 'Product 1', '1.99')">
                <i id="love1" class="bi bi-heart"></i>
            </button>

            <div class="card-body">
                <div class="d-flex justify-content-between align-items-center">

                    <h5 class="card-title mb-2">Product 1</h5>

                    <h5 class="card-title mb-0">$1.99</h5>
                </div>

                <div class="d-flex justify-content-between align-items-center">

                    <h6 class="card-subtitle mb-2 text-muted">Add to Cart</h6>

                    <h6><del style="color: red;">$20.99</del></h6>
                </div>
            </div>
        </div>
        <div class="card">
            <img class="card-img-top" src="./image/tshirt-4.png" alt="Product Image">
            <button class="btn btn-love" onclick="toggleLove('love2', 'Product 2', '1.99')">
                <i id="love2" class="bi bi-heart"></i>
            </button>

            <div class="card-body">
                <div class="d-flex justify-content-between align-items-center">

                    <h5 class="card-title mb-2">Product 2</h5>

                    <h5 class="card-title mb-0">$1.99</h5>
                </div>

                <div class="d-flex justify-content-between align-items-center">

                    <h6 class="card-subtitle mb-2 text-muted">Add to Cart</h6>

                    <h6><del style="color: red;">$20.99</del></h6>
                </div>
            </div>
        </div>
        <div class="card d-none d-md-block">
            <img class="card-img-top" src="./image/tshirt-7.png" alt="Product Image">
            <button class="btn btn-love" onclick="toggleLove('love3', 'Product 3', '1.99')">
                <i id="love3" class="bi bi-heart"></i>
            </button>

            <div class="card-body">
                <div class="d-flex justify-content-between align-items-center">

                    <h5 class="card-title mb-2">Product 3</h5>

                    <h5 class="card-title mb-0">$1.99</h5>
                </div>

                <div class="d-flex justify-content-between align-items-center">

                    <h6 class="card-subtitle mb-2 text-muted">Add to Cart</h6>

                    <h6><del style="color: red;">$20.99</del></h6>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
function toggleLove(loveID, productName, productPrice) {
    var icon = document.getElementById(loveID);
    if (document.getElementById("username-item").classList.contains('d-none')) {
        swal(
            'Warning!',
            'Please login before adding to favorites!',
            'warning'
        );
    } else {
        icon.classList.toggle('bi-heart-fill');
        icon.classList.toggle('bi-heart');
        var isFavorite = icon.classList.contains('bi-heart-fill') ? 1 : 0;
        var xhr = new XMLHttpRequest();
        xhr.onreadystatechange = function() {
            if (this.readyState == 4 && this.status == 200) {
                console.log(this.responseText);
            }
        };
        xhr.open("POST", "add_favorite.php", true);
        xhr.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
        xhr.send("productName=" + productName + "&productPrice=" + productPrice + "&isFavorite=" + isFavorite);
    }
}
</script>
